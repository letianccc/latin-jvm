
from old_jvm1.entity.attribute import *
from old_jvm1.entity.constant import *
from old_jvm1.instruction import *
from old_jvm1.utils.enum1 import *

constant_factory = {
    ConstantType.String.value: StringConstant,
    ConstantType.Integer.value: IntConstant,
    ConstantType.Float.value: FloatConstant,
    ConstantType.Long.value: LongConstant,
    ConstantType.Double.value: DoubleConstant,
    ConstantType.Utf8.value: Utf8Constant,
    ConstantType.Class.value: ClassConstant,
    ConstantType.Fieldref.value: FieldRefConstant,
    ConstantType.Methodref.value: MethodRefConstant,
    ConstantType.InterfaceMethodref.value: InterfaceMethodRefConstant,
    ConstantType.NameAndType.value: NameAndTypeConstant,
}

attribute_factory = {
    'ConstantValue': ConstantValueAttribute,
    'SourceFile': SourceFileAttribute,
    'Deprecated': DeprecatedAttribute,
    'Synthetic': SyntheticAttribute,
    'Code': CodeAttribute,
    'Exceptions': ExceptionsAttribute,
    'LineNumberTable': LineNumberTableAttribute,
}

inst_factory = {
    0x00: NOP(),
    0x01: IConst(None),
    0x02: IConst(-1),
    0x03: IConst(0),
    0x04: IConst(1),
    0x05: IConst(2),
    0x06: IConst(3),
    0x07: IConst(4),
    0x08: IConst(5),
    0x09: IConst2(0),
    0x0a: IConst2(1),
    0x0b: IConst(0),
    0x0c: IConst(1),
    0x0d: IConst(2),
    0x0e: IConst2(0),
    0x0f: IConst2(1),
    0x10: Bipush(),
    0x11: Sipush(),
    0x12: Ldc(),
    0x13: LdcW(),
    0x14: Ldc2W(),
    0x15: Load(),
    0x16: Load2(),
    0x17: Load(),
    0x18: Load2(),
    0x19: Load(),
    0x1a: ILoad(0),
    0x1b: ILoad(1),
    0x1c: ILoad(2),
    0x1d: ILoad(3),
    0x1e: ILoad2(0),
    0x1f: ILoad2(1),

    0x20: ILoad2(2),
    0x21: ILoad2(3),
    0x22: ILoad(0),
    0x23: ILoad(1),
    0x24: ILoad(2),
    0x25: ILoad(3),
    0x26: ILoad2(0),
    0x27: ILoad2(1),
    0x28: ILoad2(2),
    0x29: ILoad2(3),
    0x2a: ILoad(0),
    0x2b: ILoad(1),
    0x2c: ILoad(2),
    0x2d: ILoad(3),
    0x2e: ArrayLoad(),
    0x2f: ArrayLoad2(),

    0x30: ArrayLoad(),
    0x31: ArrayLoad2(),
    0x32: ArrayLoad(),
    0x33: ArrayLoad(),
    0x34: ArrayLoad(),
    0x35: ArrayLoad(),
    0x36: Store(),
    0x37: Store2(),
    0x38: Store(),
    0x39: Store2(),
    0x3a: Store(),
    0x3b: IStore(0),
    0x3c: IStore(1),
    0x3d: IStore(2),
    0x3e: IStore(3),
    0x3f: IStore2(0),

    0x40: IStore2(1),
    0x41: IStore2(2),
    0x42: IStore2(3),
    0x43: IStore(0),
    0x44: IStore(1),
    0x45: IStore(2),
    0x46: IStore(3),
    0x47: IStore2(0),
    0x48: IStore2(1),
    0x49: IStore2(2),
    0x4a: IStore2(3),
    0x4b: IStore(0),
    0x4c: IStore(1),
    0x4d: IStore(2),
    0x4e: IStore(3),
    0x4f: ArrayStore(),

    0x50: ArrayStore2(),
    0x51: ArrayStore(),
    0x52: ArrayStore2(),
    0x53: ArrayStore(),
    0x54: ArrayStore(),
    0x55: ArrayStore(),
    0x56: ArrayStore(),
    0x57: Pop(),
    0x58: Pop2(),
    0x59: Dup(),
    0x5a: DupX1(),
    0x5b: DupX2(),
    0x5c: Dup2(),
    0x5d: Dup2X1(),
    0x5e: Dup2X2(),
    0x5f: Swap(),

    0x60: IAdd(),
    0x61: IAdd2(),
    0x62: IAdd(),
    0x63: IAdd2(),
    0x64: ISub(),
    0x65: ISub2(),
    0x66: ISub(),
    0x67: ISub2(),
    0x68: Mul(),
    0x69: Mul2(),
    0x6a: Mul(),
    0x6b: Mul2(),

    0x84: IInc(),

    0x94: LCmp(),
    0x95: FCmp(False),
    0x96: FCmp(True),
    0x97: DCmp(False),
    0x98: DCmp(True),
    0x99: IfEqual(),
    0x9a: IfNotEqual(),
    0x9b: IfLt(),
    0x9c: IfGe(),
    0x9d: IfGt(),
    0x9e: IfLe(),
    0x9f: IfCampEq(),

    0xa0: IfCampNe(),
    0xa1: IfCampLt(),
    0xa2: IfCampGe(),
    0xa3: IfCampGt(),
    0xa4: IfCampLe(),
    0xa5: IfCampEq(),
    0xa6: IfCampNe(),
    0xa7: Goto(),
    0xac: Return(),
    0xad: Return2(),
    0xae: Return(),
    0xaf: Return2(),

    0xb0: Return(),
    0xb1: ReturnVoid(),
    0xb2: GetStatic(),
    0xb3: PutStatic(),
    0xb4: GetField(),
    0xb5: PutField(),
    0xb6: InvokeVirtual(),
    0xb7: InvokeSpecial(),
    0xb8: InvokeStatic(),
    0xbb: New(),
    0xbc: NewArray(),
    0xbd: ANewArray(),
    0xbe: ArrayLength(),

    0xc0: CheckCast(),
    0xc1: Instantceof(),
    0xc5: MultiANewArray(),
    0xc6: IfNull(),
    0xc7: IfNotNull(),

    0xfe: InvokeNative(),

}
